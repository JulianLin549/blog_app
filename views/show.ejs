<%-include ("partials/header")  -%>
<!-- updated syntax in ejs v3.0.1 -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

<div class="ui main text container segment">
    <div class="ui huge header"><%= blog.title %></div>
    <div class="ui top attached">
        <div class="item">
            <img class="ui centered rounded image" src="<%= blog.image  %> ">
            <div class="content">
                <span><%= blog.created.toDateString()  %> </span>
            </div>
            <div class="description">
                <p><%- blog.body %> </p>
                <!-- run the things with code  !!Caution!! XSS may happen! please samitise the code! -->
            </div>
            <a class="ui green basic button" href="/blogs/<%=blog._id%>/edit">EDIT</a>

            <!-- delete button -->
            <button class="ui red basic button" data-modal-target="empty">Delete</button>
            <!--modal  -->
            <div class="ui tiny modal">
                <div class="header">
                    Delete Your Blog
                </div>
                <div class="content">
                    <p>Are you sure you want to delete your blog post?</p>
                    <p><%= blog.title %></p>
                </div>
                <div class="actions">
                    <div class="ui negative button">
                        No
                    </div>
                    <form id="delete" action="/blogs/<%=blog._id%>?_method=DELETE " method="POST">
                        <button class="ui positive right labeled icon button">Yes<i
                                class="trash alternate icon"></i></button>
                    </form>
                </div>
            </div>

        </div>
    </div>



</div>


<script>
    $('[data-modal-target]').on('click', function () {
        $('.ui.tiny.modal').modal('show');
    })
</script>

<%-include ("partials/footer") -%>
<!-- updated syntax in ejs v3.0.1 -->